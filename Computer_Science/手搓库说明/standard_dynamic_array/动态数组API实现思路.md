# 动态数组API实现思路

## 前导

​		写这样一篇博客是因为大伙说看不大懂（大悲），强烈建议我写一份思路。所以重新整一篇思路篇，关于通用单链表的源码已经整完了，会在这篇文章出现的时候一并传上来

## 结构本身

​		动态数组不同于静态数组正是在动态数组可以实现动态的扩展，换而言之，它是在运行的时候动态的扩展数组而无需在编译阶段准备。这使得我们的程序更加具有灵活性！

```C
//old one
int arr[255] = {1,2,3};
//这个时候会在栈上开辟1020个字节，注意，可会导致浪费，用户不一定需这么多——也可能需要的远远大于这么多	
```

```C
int* data = NULL;
// ... do something

data = (int*)malloc(MALLOCSIZE);

// ... do something

data = (int*)realloc(data , NEWSIZE);
```

​		我们的数组就是这样动态编译的——有趣的是，他本质上同数组没有区别！只不过一个合格的动态数组会自动判断访问是否合法与自动伸缩而已

​		为了达成这样的目的：我们维护以下几个信息

1）内存区域碎片 ： 就是裸数组本身，我们使用片区域存储东西

2）元素大小 ： 这个元素多大？我们的指针访问的步长是否可以覆盖到单个数据？

3）可以容纳的数组大小：使用这个来预防频繁的小量的存储与删除

4）当前元素的个数 ：这个来判断你的访问是不是合法的！



### API

1）增加

​		动态数组一般只可以追加，但是我们可以使用元素后挪的方式来实现插入

2）查找

​		还记得静态数组如何查找吗？我们当然可以使用静态数组一样的方式进行查找

3）删除

​		对于尾删，我们可以直接让当前元素数据减1就好了，下次的增加读写可以直接实现覆盖！可以使用元素前移删除指定位置的擦除！

4）改动

​		还是涉及到根本访问！不再赘述。



### 注意

​		1.C语言 上必须传入一个结构体对当前结构体进行改变，于是要检查是否为空！

​		2.注意涉及到数据时建议拷贝一份而不是指针直接托管，否则容易陷入一个指针Free了这个内存块，而另一个指针仍有权限访问这个内存地址！

