# 高级C/C++编译技术读书笔记

​	笔者最近正在整理一些自己读过的书籍，这里笔者打算系统的整理一下自己的读书笔记。加以扩展学习。

## 在一切的开始

​	这本书是讲解编译技术的。我的意思是说：我们现在谈论的主题是一个程序“预处理——编译——链接——运行”四大基本步骤的讲解。当然，笔者仍然建议对这个主题更加感兴趣的同志去阅读原书《高级C/C++编译技术》。

## 阅读本笔记可能需要的前置要求

1. 至少学习过简单的计算机体系架构知识和操作系统的知识。或者说，当我在谈论虚拟内存，堆栈段和CPU，Cache缓存金字塔等术语的时候，您懂我在说什么，指代什么
2. 至少具备一定的汇编阅读能力，如果您发现自己完全不懂汇编，笔者建议你去找一篇简单的汇编教程学习，或者那些学过但是忘记汇编的一些基本术语和指令的朋友，找一篇快速的复习博客是再合适不过的
3. 至少使用过GCC/MSVC编译器原生的编译过东西，不用太大，不需要解决那种编译GCC4.8老壁灯的依赖问题的水平，但是至少当我写出`gcc hello.c -o hello`的时候，您不要感到陌生

若您感到上面的内容仍然对您造成困惑，笔者建议您先补齐这些知识，随后再来看看本笔记是最合适不过的。

## 0. 前置速通

​	程序毫无疑问的分为这些最最基本的section:

1. 代码段：放代码，一般而言，你需要寻找那些section标识是.text的家伙
2. 数据段：放数据，写过汇编的初级阶段我们都把runtime数据放到这里，当然现代编译器实际上会将那些全局数据（初始化，放到.data段；未初始化数据，放到.bss段和只读数据，也就是那些使用了const标识符或者是字符串常量）
3. 堆：这就是我们需要动态申请，也就是向操作系统内存管理层query内存的地方，这里不是想用就用，需要申请的（C语言的malloc和派生的封装new等），都在这里开辟我们需要的内存
4. 栈：太熟悉不过了，这就是我们暂时存放中间变量的地方

​	很好，到这里几个最基本的section就说完了，我们下面想要开始简单分析流程的前置知识大致说明白了



## I. 讨论我们程序的声明周期

​	查看本笔记的朋友都是有过编写C/C++代码经验的大牛了，可以说，我们可以脱口而出一个源文件到一个可以执行的程序所需要经历的基本流程。

​	首先值得澄清的是：现在我们大伙开发都是用的IDE。点一下按钮就生成了可执行文件，但是我要强调一点：**不是一点就跑就代表没有这个流程了！不是一点就跑就代表没有这个流程了！不是一点就跑就代表没有这个流程了！不是一点就跑就代表没有这个流程了！**

### 编译阶段

​	我们写好了C语言程序，比如说这个case